{
  "version": 3,
  "sources": ["../../../src/database/mongo/index.js"],
  "sourcesContent": ["import mongoose from \"mongoose\";\r\nimport { moduleLogger } from \"@sliit-foss/module-logger\";\r\nimport config from \"../../config\";\r\n\r\nconst logger = moduleLogger(\"DB-Connector\");\r\n\r\nexport const connectDatabase = async () => {\r\n    try {\r\n        mongoose.connect(config.DB_URL, {\r\n            keepAlive: true,\r\n            socketTimeoutMS: 30000,\r\n        });\r\n        logger.info(`Connected to database successfully`);\r\n    } catch (err) {\r\n        logger.error(`Failed to connect to the database | message: ${err.message}`);\r\n    }\r\n\r\n    mongoose.connection.on(\"error\", (err) => logger.error(`Database error - message: ${err.message} - error: ${err.message}`));\r\n\r\n    mongoose.connection.on(\"disconnected\", () => logger.error(`Database disconnected`));\r\n\r\n    mongoose.connection.on(\"reconnected\", () => logger.info(`Database reconnected`));\r\n\r\n    process.on(\"exit\", () => mongoose.disconnect());\r\n};"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAqB;AACrB,2BAA6B;AAC7B,oBAAmB;AAEnB,MAAM,aAAS,mCAAa,cAAc;AAEnC,MAAM,kBAAkB,mCAAY;AACvC,MAAI;AACA,oBAAAA,QAAS,QAAQ,cAAAC,QAAO,QAAQ;AAAA,MAC5B,WAAW;AAAA,MACX,iBAAiB;AAAA,IACrB,CAAC;AACD,WAAO,KAAK,oCAAoC;AAAA,EACpD,SAAS,KAAP;AACE,WAAO,MAAM,gDAAgD,IAAI,SAAS;AAAA,EAC9E;AAEA,kBAAAD,QAAS,WAAW,GAAG,SAAS,CAAC,QAAQ,OAAO,MAAM,6BAA6B,IAAI,oBAAoB,IAAI,SAAS,CAAC;AAEzH,kBAAAA,QAAS,WAAW,GAAG,gBAAgB,MAAM,OAAO,MAAM,uBAAuB,CAAC;AAElF,kBAAAA,QAAS,WAAW,GAAG,eAAe,MAAM,OAAO,KAAK,sBAAsB,CAAC;AAE/E,UAAQ,GAAG,QAAQ,MAAM,gBAAAA,QAAS,WAAW,CAAC;AAClD,GAlB+B;",
  "names": ["mongoose", "config"]
}
